# 目标
创建一个可被BIOS引导的文件

# 理论
在计算机启动后, 首先运行的是主板的BIOS, 但是BIOS并不知道如何加载操作系统, 转而将任务代理给引导扇区, 这个任务的位置是在磁盘上hard code的, 位置在(cylinder 0, head 0, sector 0) 该扇区一共占用`512`字节, 为了确保 “磁盘是可引导的”, BIOS 会检查扇区的第 511 和 512 字节是不是 `0xAA55`

默认的启动界面如图所示
![默认的启动界面](https://z3.ax1x.com/2021/09/10/hXEfyt.png)

在引导区写入内容后如图所示
![hXnevd.png](https://z3.ax1x.com/2021/09/10/hXnevd.png)

> 操作提示 </br>
> 在启动qemu时, 如果想取回鼠标, mac上使用ctl+option+g来取回

# 代码解释
开头的jmp是无条件跳转, 整个代码是一个死循环, 而下面的那些, 是占位用的

我们的代码目标是到cylinder 0, head 0, sector 0的位置的511字节和512字节上写入`0xAA55`, 那么就要找到510位置, 然后写入. 看代码
这里的$意思是当前地址, $$意思是当前扇区的首地址, 通过这样的offset计算, 就可以找, 从当前位置到510, 还需要走多远, 然后times命令是走计算出来长度的byte数量, db的意思是, 在这个过程中填充0; [参考资料](https://engineersasylum.com/t/times-510-db-0-means/132)
```asm
times 510 -( $ - $$ ) db 0
```

经过实验, 表明开头的jmp指令其实并无意义, 如果删除掉, 仍然可以运行; 我猜作者这样写的目的是为了告诉读者, jmp后面的内容其实不是运行出来的